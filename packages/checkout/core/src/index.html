<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Malga Checkout</title>

    <script type="module" src="/build/malga-checkout.esm.js"></script>
    <script nomodule src="/build/malga-checkout.js"></script>
  </head>
  <body>
    <malga-checkout
      debug
      public-key="ca7a396f-ea5c-4771-9df3-bfd1013f2df8"
      client-id="523afbe7-36dc-4654-9dba-e7167d0e5e2d"
      merchant-id="69aea152-ba70-49a3-a31c-044ac1651146"
    >
    </malga-checkout>

    <script>
      const malgaCheckout = document.querySelector('malga-checkout')

      malgaCheckout.paymentMethods = {
        pix: {
          expiresIn: 3600,
        },
        credit: {
          installments: {
            quantity: 1,
            show: true,
          },
          showCreditCard: true,
        },
        boleto: {
          expiresDate: '2022-12-31',
          instructions: 'Instruções para pagamento do boleto',
          interest: {
            days: 1,
            amount: 100,
          },
          fine: {
            days: 2,
            amount: 200,
          },
        },
      }

      malgaCheckout.transactionConfig = {
        statementDescriptor: '#1 Demonstration Plug Checkout',
        amount: 300,
        description: '',
        orderId: '',
        currency: 'BRL',
        capture: false,
        customer: {
          name: 'Homer Simpson',
          email: 'homer__simpson@test.com',
          phoneNumber: '07079845050',
          usePartialCustomer: false,
          document: {
            type: 'cpf',
            number: '56476066528',
            country: 'BR',
          },
          // address: {
          //   country: 'BR',
          //   city: 'Spring Field',
          //   district: 'Test',
          //   zipCode: '95585000',
          //   street: 'Test',
          //   number: '123',
          //   complement: 'House',
          //   state: 'SP',
          // },
        },
        // fraudAnalysis: {
        //   customer: {
        //     name: 'Homer Simpson',
        //     email: 'homer__simpson@test.com',
        //     phoneNumber: '07079845050',
        //     document: {
        //       type: 'cpf',
        //       number: '56476066528',
        //       country: 'BR',
        //     },
        //     address: {
        //       country: 'BR',
        //       city: 'Spring Field',
        //       district: 'Test',
        //       zipCode: '95585000',
        //       street: 'Test',
        //       number: '123',
        //       complement: 'House',
        //       state: 'SP',
        //     },
        //   },
        // },
      }

      malgaCheckout.dialogConfig = {
        show: true,
        actionButtonLabel: 'Continuar',
        errorActionButtonLabel: 'Tentar novamente',
        successActionButtonLabel: 'Continuar',
        successRedirectUrl: 'https://www.plugpagamentos.com/',
        pixFilledProgressBarColor: '#344383',
        pixEmptyProgressBarColor: '#D8DFF0',
      }

      malgaCheckout.addEventListener('paymentSuccess', () =>
        console.log('Approved'),
      )
      malgaCheckout.addEventListener('paymentFailed', () =>
        console.log('Failed'),
      )
    </script>
  </body>
</html>
