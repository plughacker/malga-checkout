<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Malga Checkout</title>

    <script type="module" src="/build/malga-checkout.esm.js"></script>
    <script nomodule src="/build/malga-checkout.js"></script>
  </head>
  <body>
    <malga-checkout
      sandbox
      public-key="f53937b1-e57b-4103-b3df-7bff4da3bbda"
      client-id="8edc08eb-0264-4c10-ba88-0d04ab40804a"
      merchant-id="fa5d96ad-2e8d-477b-9345-2e3a8ea9a069"
    >
    </malga-checkout>

    <script>
      const malgaCheckout = document.querySelector('malga-checkout')

      malgaCheckout.paymentMethods = {
        pix: {
          expiresIn: 3600,
        },
        credit: {
          installments: {
            quantity: 1,
            show: true,
          },
          checkedSaveCard: false,
          showCreditCard: true,
        },
        boleto: {
          expiresDate: '2022-12-31',
          instructions: 'Instruções para pagamento do boleto',
          interest: {
            days: 1,
            amount: 100,
          },
          fine: {
            days: 2,
            amount: 200,
          },
        },
      }

      malgaCheckout.transactionConfig = {
        statementDescriptor: '#1 Demonstration Malga Checkout',
        amount: 300,
        description: '',
        orderId: '',
        currency: 'BRL',
        capture: false,
        customerId: 'cbf9dea8-1432-46cb-921b-7a6a035703c2',
      }

      malgaCheckout.dialogConfig = {
        show: true,
        actionButtonLabel: 'Continuar',
        errorActionButtonLabel: 'Tentar novamente',
        successActionButtonLabel: 'Continuar',
        successRedirectUrl: 'https://www.plugpagamentos.com/',
        pixFilledProgressBarColor: '#344383',
        pixEmptyProgressBarColor: '#D8DFF0',
      }

      malgaCheckout.addEventListener('paymentSuccess', () =>
        console.log('Approved'),
      )
      malgaCheckout.addEventListener('paymentFailed', () =>
        console.log('Failed'),
      )
    </script>
  </body>
</html>
